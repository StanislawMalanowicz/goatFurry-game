!function(r){var t={};function i(e){if(t[e])return t[e].exports;var o=t[e]={i:e,l:!1,exports:{}};return r[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=r,i.c=t,i.d=function(r,t,e){i.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:e})},i.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},i.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(t,"a",t),t},i.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},i.p="",i(i.s=0)}([function(r,t,i){console.log("helloWorld");var e=i(2),o=i(1);var n=new function(){this.sound1=document.querySelector("#sound1"),this.sound2=document.querySelector("#sound2"),this.board=document.querySelectorAll("#board>div"),this.furry=new e,this.coin=new o,this.score=0,this.index=function(r,t){return r+10*t},this.showFurry=function(){this.hideVisibleFurry(),this.board[this.index(this.furry.x,this.furry.y)].classList.add("furry")},this.hideVisibleFurry=function(){var r=document.querySelector(".furry");r&&r.classList.remove("furry")},this.showCoin=function(){this.board[this.index(this.coin.x,this.coin.y)].classList.add("coin")},this.moveFurry=function(){"right"===this.furry.direction?this.furry.x=this.furry.x+1:"left"===this.furry.direction?this.furry.x=this.furry.x-1:"up"===this.furry.direction?this.furry.y=this.furry.y-1:"down"===this.furry.direction&&(this.furry.y=this.furry.y+1),this.gameOver(),this.showFurry(),this.checkCoinCollision()},this.turnFurry=function(){switch(event.which){case 37:this.furry.direction="left";break;case 38:this.furry.direction="up";break;case 39:this.furry.direction="right";break;case 40:this.furry.direction="down"}},this.checkCoinCollision=function(){this.coin.x===this.furry.x&&this.coin.y===this.furry.y&&(console.log("cos tam nawet dziala"),document.querySelector(".coin").classList.remove("coin"),document.querySelector("strong").innerText++,this.coin=new o,this.showCoin(),this.sound1.play())},this.gameOver=function(){console.log(this.furry.y),(this.furry.x<0||this.furry.x>9||this.furry.y<0||this.furry.y>9)&&(console.log("koniec chuju"),clearInterval(this.idSetInterval),this.hideVisibleFurry(),this.sound2.play(),this.scoreTable())},this.scoreTable=function(){var r=document.querySelector(".invisible"),t=document.querySelector("strong"),i=document.createElement("finalScore"),e=t.innerText;r.style.display="block",r.appendChild(i),i.innerText="Koniec. Tw√≥j wynik to: "+e},this.startGame=function(){var r=this;this.idSetInterval=setInterval(function(){r.moveFurry()},250)}};n.showFurry(),n.showCoin(),n.startGame(),document.addEventListener("keydown",function(r){n.turnFurry(r)})},function(r,t){r.exports=function(){this.x=Math.floor(10*Math.random()),this.y=Math.floor(10*Math.random())},console.log("hi from coin")},function(r,t){r.exports=function(){this.x=0,this.y=0,this.direction="right"},console.log("hi from furry")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vanMvYXBwLmpzIiwid2VicGFjazovLy8uL2pzL2NvaW4uanMiLCJ3ZWJwYWNrOi8vLy4vanMvZnVycnkuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNvbnNvbGUiLCJsb2ciLCJGdXJyeSIsIkNvaW4iLCJuZXdHYW1lIiwidGhpcyIsInNvdW5kMSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNvdW5kMiIsImJvYXJkIiwicXVlcnlTZWxlY3RvckFsbCIsImZ1cnJ5IiwiY29pbiIsInNjb3JlIiwiaW5kZXgiLCJ4IiwieSIsInNob3dGdXJyeSIsImhpZGVWaXNpYmxlRnVycnkiLCJjbGFzc0xpc3QiLCJhZGQiLCJkZCIsInJlbW92ZSIsInNob3dDb2luIiwibW92ZUZ1cnJ5IiwiZGlyZWN0aW9uIiwiZ2FtZU92ZXIiLCJjaGVja0NvaW5Db2xsaXNpb24iLCJ0dXJuRnVycnkiLCJldmVudCIsIndoaWNoIiwiaW5uZXJUZXh0IiwicGxheSIsImNsZWFySW50ZXJ2YWwiLCJpZFNldEludGVydmFsIiwic2NvcmVUYWJsZSIsInBvbGljZSIsInNjb3JlRmluYWwiLCJjcmVhdGVFbGVtZW50IiwicG9pbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJhcHBlbmRDaGlsZCIsInN0YXJ0R2FtZSIsInNlbGYiLCJzZXRJ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LFFBQUFDLElBQUEsK0JDRkEzQixFQUFBRCxRQUxBLFdBQ0FnQyxLQUFBVyxFQUFBLEVBQ0FYLEtBQUFZLEVBQUEsRUFDQVosS0FBQXFCLFVBQUEsU0FHQTFCLFFBQUFDLElBQUEiLCJmaWxlIjoib3V0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImNvbnNvbGUubG9nKCdoZWxsb1dvcmxkJyk7XG5cbnZhciBGdXJyeSA9IHJlcXVpcmUoXCIuL2Z1cnJ5LmpzXCIpO1xudmFyIENvaW4gPSByZXF1aXJlKFwiLi9jb2luLmpzXCIpO1xuXG5cblxuXG5mdW5jdGlvbiBHYW1lKCkge1xuICAgIHRoaXMuc291bmQxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzb3VuZDFcIik7XG4gICAgdGhpcy5zb3VuZDIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NvdW5kMlwiKTtcbiAgICB0aGlzLmJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2JvYXJkPmRpdicpO1xuICAgIHRoaXMuZnVycnkgPSBuZXcgRnVycnkoKTtcbiAgICB0aGlzLmNvaW4gPSBuZXcgQ29pbigpO1xuICAgIHRoaXMuc2NvcmUgPSAwO1xuXG5cblxuICAgIHRoaXMuaW5kZXggPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICByZXR1cm4geCArICh5ICogMTApO1xuICAgIH07XG5cblxuXG5cbiAgICB0aGlzLnNob3dGdXJyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oaWRlVmlzaWJsZUZ1cnJ5KCk7XG4gICAgICAgIHRoaXMuYm9hcmRbdGhpcy5pbmRleCh0aGlzLmZ1cnJ5LngsIHRoaXMuZnVycnkueSldLmNsYXNzTGlzdC5hZGQoJ2Z1cnJ5Jyk7XG4gICAgfTtcblxuXG5cblxuXG4gICAgICAgIHRoaXMuaGlkZVZpc2libGVGdXJyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mdXJyeScpO1xuICAgICAgICAgICAgaWYgKGRkKSB7XG4gICAgICAgICAgICAgICAgZGQuY2xhc3NMaXN0LnJlbW92ZSgnZnVycnknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuXG5cblxuICAgICAgICB0aGlzLnNob3dDb2luID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5ib2FyZFt0aGlzLmluZGV4KHRoaXMuY29pbi54LCB0aGlzLmNvaW4ueSldLmNsYXNzTGlzdC5hZGQoJ2NvaW4nKTtcbiAgICAgICAgfTtcblxuXG5cblxuXG4gICAgICAgIHRoaXMubW92ZUZ1cnJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZnVycnkuZGlyZWN0aW9uID09PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZ1cnJ5LnggPSB0aGlzLmZ1cnJ5LnggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5mdXJyeS5kaXJlY3Rpb24gPT09IFwibGVmdFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mdXJyeS54ID0gdGhpcy5mdXJyeS54IC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZnVycnkuZGlyZWN0aW9uID09PSBcInVwXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZ1cnJ5LnkgPSB0aGlzLmZ1cnJ5LnkgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5mdXJyeS5kaXJlY3Rpb24gPT09IFwiZG93blwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mdXJyeS55ID0gdGhpcy5mdXJyeS55ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIoKTtcblxuICAgICAgICAgICAgdGhpcy5zaG93RnVycnkoKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tDb2luQ29sbGlzaW9uKCk7XG4gICAgICAgIH07XG5cblxuXG5cblxuXG4gICAgdGhpcy50dXJuRnVycnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgICAgICAgdGhpcy5mdXJyeS5kaXJlY3Rpb24gPSAnbGVmdCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgIHRoaXMuZnVycnkuZGlyZWN0aW9uID0gJ3VwJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgdGhpcy5mdXJyeS5kaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICB0aGlzLmZ1cnJ5LmRpcmVjdGlvbiA9ICdkb3duJztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICB9O1xuXG4gICAgfTtcblxuXG5cblxuXG5cbiAgICB0aGlzLmNoZWNrQ29pbkNvbGxpc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICBpZih0aGlzLmNvaW4ueCA9PT0gdGhpcy5mdXJyeS54ICYmIHRoaXMuY29pbi55ID09PSB0aGlzLmZ1cnJ5LnkpIHtcbiAgICAgICAgICAgY29uc29sZS5sb2coJ2NvcyB0YW0gbmF3ZXQgZHppYWxhJyk7XG4gICAgICAgICAgICB2YXIgcmVtb3ZlQ29pbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb2luJyk7XG4gICAgICAgICAgIHJlbW92ZUNvaW4uY2xhc3NMaXN0LnJlbW92ZSgnY29pbicpO1xuICAgICAgICAgICB2YXIgc2NvcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzdHJvbmcnKTtcbiAgICAgICAgICAgIHNjb3JlLmlubmVyVGV4dCArKztcbiAgICAgICAgICB0aGlzLmNvaW4gPSBuZXcgQ29pbigpO1xuICAgICAgICAgICB0aGlzLnNob3dDb2luKCk7XG4gICAgICAgICAgICB0aGlzLnNvdW5kMS5wbGF5KCk7XG4gICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmdhbWVPdmVyID0gZnVuY3Rpb24gKClcblxuICAgIHsgICBjb25zb2xlLmxvZyh0aGlzLmZ1cnJ5LnkpO1xuXG5cbiAgICAgICAgaWYoIHRoaXMuZnVycnkueCA8IDAgfHwgdGhpcy5mdXJyeS54ID4gOSB8fCB0aGlzLmZ1cnJ5Lnk8IDAgfHwgdGhpcy5mdXJyeS55ID4gOSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJrb25pZWMgY2h1anVcIik7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaWRTZXRJbnRlcnZhbCk7XG4gICAgICAgICAgICB0aGlzLmhpZGVWaXNpYmxlRnVycnkoKTtcbiAgICAgICAgICAgIHRoaXMuc291bmQyLnBsYXkoKTtcbiAgICAgICAgICAgIHRoaXMuc2NvcmVUYWJsZSgpXG5cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnNjb3JlVGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcG9saWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmludmlzaWJsZScpO1xuICAgICAgICB2YXIgc2NvcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzdHJvbmcnKTtcbiAgICAgICAgdmFyIHNjb3JlRmluYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmaW5hbFNjb3JlJyk7XG4gICAgICAgIHZhciBwb2ludCA9IHNjb3JlLmlubmVyVGV4dDtcbiAgICAgICAgcG9saWNlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICBwb2xpY2UuYXBwZW5kQ2hpbGQoc2NvcmVGaW5hbCk7XG4gICAgICAgIHNjb3JlRmluYWwuaW5uZXJUZXh0ID0gIFwiS29uaWVjLiBUd8OzaiB3eW5payB0bzogXCIgKyBwb2ludDtcblxuICAgIH07XG5cblxuXG5cblxuXG5cblxuICAgIHRoaXMuc3RhcnRHYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuaWRTZXRJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxmLm1vdmVGdXJyeSgpXG4gICAgICAgICAgICAgICAgfSwgMjUwKTtcblxuICAgIH07XG5cblxuXG5cbn1cblxuXG52YXIgbmV3R2FtZSA9IG5ldyBHYW1lO1xubmV3R2FtZS5zaG93RnVycnkoKTtcbm5ld0dhbWUuc2hvd0NvaW4oKTtcbm5ld0dhbWUuc3RhcnRHYW1lKCk7XG5cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICBuZXdHYW1lLnR1cm5GdXJyeShldmVudCk7XG59KTsiLCJmdW5jdGlvbiBDb2luKCkge1xuICAgIHRoaXMueCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCk7XG4gICAgdGhpcy55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwKTtcblxufVxubW9kdWxlLmV4cG9ydHMgPSBDb2luO1xuXG5jb25zb2xlLmxvZygnaGkgZnJvbSBjb2luJykiLCJmdW5jdGlvbiBGdXJyeSAoKSB7XG4gICAgdGhpcy54ID0gMDtcbiAgICB0aGlzLnkgPSAwO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gXCJyaWdodFwiO1xufVxubW9kdWxlLmV4cG9ydHMgPSBGdXJyeTtcbmNvbnNvbGUubG9nKFwiaGkgZnJvbSBmdXJyeVwiKTsiXSwic291cmNlUm9vdCI6IiJ9